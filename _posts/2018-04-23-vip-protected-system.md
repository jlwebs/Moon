---
title: VIP系统网络验证
layout: post
tags: '网络验证,VIP,php,微信'
categories: ''
comments: 'true'
---
1.预估到了大客户的到来，前阵子脚本需要更新VIP录入机制了，因为用的是时间戳取部分特定格式MD5转码后取前几位本地判断。
弊端：容易在一段时间内反复激活软件
改进A:加入设备ID,MAC地址，IP限制判断。
改进B:高端GPS和网络定位一定时间地区只允许激活一个设备
改进C:引入手机登录验证，但是费时间
后两者都已经脱离本地范畴了，本地设备易克隆，技术缺陷于是还是引入网络验证吧！

2.简单一点，version对比验证
服务端 前台管理员可以微信扫码生成一个有效期一小时内的激活码，用后就销毁，本地写配置项，accepted!
具体：管理员扫码添加（CDKEY->MD5）到哈希表->用户输入CDKEY，POST请求返回MD5，本地验证MD5在有效期内，写配置项accepted。

3.激活软件验证解决，但是激活后使用系统克隆，也是没辙的，本地一个配置项被克隆了，所以每次启动都得网络认证一遍，
改进思路：post请求，首次激活4位MD5的CDKEY时候，本地写配置项MD5加密后的CDKEY，删除对应哈希项，并登记CDKEY到mysql数据库表单中，加入项值