<!DOCTYPE html> <!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]--> <!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8"><![endif]--> <!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9"><![endif]--> <!--[if gt IE 8]><!--> <html class="no-js"><!--<![endif]--> <head> <meta charset="UTF-8"> <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> <meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"> <title>网站点滴1 &#8211; Neteen Blog</title> <meta name="description" content="occupied with moon theme of jelly"> <meta name="keywords" content="历史, 杂谈, jemoji, ruby"> <!-- Twitter Cards --> <meta name="twitter:card" content="summary"> <meta name="twitter:image" content="http://localhost:4000/assets/img/logo.png"> <meta name="twitter:title" content="网站点滴1"> <meta name="twitter:description" content=":yum:干货少，纯记录 过期续费Transfer Jemoji自定义"> <!-- Open Graph --> <meta property="og:locale" content="en_US"> <meta property="og:type" content="article"> <meta property="og:title" content="网站点滴1"> <meta property="og:description" content=":yum:干货少，纯记录 过期续费Transfer Jemoji自定义"> <meta property="og:url" content="http://localhost:4000/website-history1/"> <meta property="og:site_name" content="Neteen Blog"> <meta property="og:image" content="http://localhost:4000/assets/img/logo.png"> <link rel="canonical" href="http://localhost:4000/website-history1/"> <link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Neteen Blog Feed"> <!-- Handheld --> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- CSS --> <link rel="stylesheet" href="http://localhost:4000/assets/css/main.css"> <!-- JS --> <script src="http://localhost:4000/assets/js/modernizr-3.3.1.custom.min.js"></script> <!-- Favicons --> <link rel="apple-touch-icon" href="http://localhost:4000/assets/img/favicons/apple-icon-precomposed.png"> <link rel="apple-touch-icon" sizes="72x72" href="http://localhost:4000/assets/img/favicons/apple-icon-72x72.png"> <link rel="apple-touch-icon" sizes="114x114" href="http://localhost:4000/assets/img/favicons/apple-icon-114x114.png"> <link rel="apple-touch-icon" sizes="144x144" href="http://localhost:4000/assets/img/favicons/apple-icon-144x144.png"> <link rel="shortcut icon" type="image/png" href="http://localhost:4000/favicon.png" /> <link rel="shortcut icon" href="http://localhost:4000/favicon.ico" /> <!-- Background Image --> <style type="text/css">body {background-image:url(http://localhost:4000/assets/img/placeholder-big2.jpg); background-repeat: no-repeat; background-size: cover; }</style> <!-- Post Feature Image --> </head> <body> <nav id="dl-menu" class="dl-menuwrapper" role="navigation"> <button class="dl-trigger">Open Menu</button> <ul class="dl-menu"> <li><a href="http://localhost:4000/">Home</a></li> <li> <a href="#">关于</a> <ul class="dl-submenu"> <li> <img src="http://localhost:4000/assets/img/logo.png" alt="Neteen Blog photo" class="author-photo"> <h4>Neteen Blog</h4> <p>occupied with moon theme of jelly</p> </li> <li><a href="http://localhost:4000/about/"><span class="btn btn-inverse">详情</span></a></li> <li> <a href="http://instagram.com/username" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-instagram"></i> Instagram</a> </li> <li> <a href="http://github.com/jlwebs" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-github"></i> Github</a> </li> <li> <a href="http://steamcommunity.com/id/username" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-steam-square"></i> Steam</a> </li> </ul>
<!-- /.dl-submenu --> </li> <li> <a href="#">文章</a> <ul class="dl-submenu"> <li><a href="http://localhost:4000/posts/">所有文章</a></li> <li><a href="http://localhost:4000/tags/">所有标签</a></li> </ul> </li> <li><a href="http://localhost:4000/projects/">项目</a></li> <li><a href="//neteen.online">主站</a></li>
</ul>
<!-- /.dl-menu --> </nav><!-- /.dl-menuwrapper --> <!-- Header --> <header class="header" role="banner"> <div class="wrapper animated fadeIn"> <div class="content"> <div class="post-title "> <h1>网站点滴1</h1> <h4>28 Oct 2018</h4> <p class="reading-time"> <i class="fa fa-clock-o"></i> 阅读时长 ~1 分钟 </p>
<!-- /.entry-reading-time --> <a class="btn zoombtn" href="http://localhost:4000/posts/"> <i class="fa fa-chevron-left"></i> </a> </div> <p><strong>干货少，纯记录</strong></p> <h1 id="网站点滴">网站点滴</h1> <p>最近网站域名到期了，但是续费高达60+Dollar，</p> <p>百般无奈查询后发现可以试试 Transfer（转移）这条路，转移完成有效期自动+1年，但是是基于过期时间计算，而不是转移日期</p> <p><em>注意：【如果域名过期45天后不续费将进入 赎回期</em></p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   whois英文状态：REDEMPTION-PERIOD 
</code></pre></div></div> <p><em>这个阶段赎回费用极高且不允许Transfer，然后进入6天删除待决期，之后</em></p> <p><em>CANN（The Internet Corporation for Assigned Names and Numbers * 将夺走你的域名，重新开放注册】</em></p> <blockquote> <p>向域名服务商在线提出域名转入申请，完整填报有关域名注册资料，原注册商同意，同意域名的转出。同意后便可转入。向域名服务商在线提出域名转出申请，完整填报有关域名注册资料，注册商同意，同意域名的转出。同意后便可转出到新的域名注册商。</p> </blockquote> <p><em>注意：虽然转移域名可以解决续费问题，但是如果时期不对，会造成 <strong>掉年</strong> 问题</em> <em>比如我在国内便宜域名商买了9年域名，然后马上转移到godaddy去，年限不会加1，=转移费白交了</em> <em>，一般要求Transfer或者购买域名后60天再进行Transfer才妥当</em></p> <p>很奇怪这个域名国外商最低Transfer价格都在15D以上，来自namesoil(域名泥土)，</p> <p>后来选了家国内域名商转过去了（转移过程↓），价格减半，虽然国内域名商限制较多，但不是国内的主机不会太麻烦，</p> <p>再更改NS解析到cloudflare，又恢复生机勃勃的景象了，算是成功fix！</p> <hr> <p>转移过程：在域名商申请域名解锁unlock，解锁后email会收到Transfer Key，到待转移域名商填写 支付转移费，等待2小时-6天，自动就过户过去了，如果之前是godaddy，还可以多刷新会Transfers 列表，里面可以加速服务（Transfer ACCEPT），一般2小时就迁移过去了</p> <hr> <p>2018年10月28日</p> <p>blog里使用jemoji，自己定制的话还是不太方便的，提供一种方法</p> <p>定位gem 本地包位置：</p> <p>gem environment gempath</p> <p>=&gt;C:/Ruby24-x64/lib/ruby/gems/2.4.0/gems/jemoji-0.10.1/lib/jemoji.rb</p> <p>打开jemoji的gem目录找到lib中的jemoji.rb</p> <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">filter_with_emoji</span><span class="p">(</span><span class="n">src</span><span class="p">)</span>
	<span class="n">filters</span><span class="p">[</span><span class="n">src</span><span class="p">]</span> <span class="o">||=</span> <span class="no">HTML</span><span class="o">::</span><span class="no">Pipeline</span><span class="p">.</span><span class="nf">new</span><span class="p">([</span>
	<span class="no">HTML</span><span class="o">::</span><span class="no">Pipeline</span><span class="o">::</span><span class="no">EmojiFilter</span><span class="p">,</span>
	<span class="p">],</span> <span class="ss">:asset_root</span> <span class="o">=&gt;</span> <span class="n">src</span><span class="p">,</span> <span class="ss">:img_attrs</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="ss">:align</span> <span class="o">=&gt;</span> <span class="kp">nil</span><span class="p">,</span><span class="ss">:height</span> <span class="o">=&gt;</span> <span class="s2">"48"</span><span class="p">,</span> <span class="ss">:width</span> <span class="o">=&gt;</span> <span class="s2">"48"</span> <span class="p">})</span>
<span class="k">end</span>
</code></pre></div></div> <p>[ Eg： ↑我修改了 <code class="highlighter-rouge">height =&gt; "48", :width =&gt; "48" </code> 原来默认32xp有点小 ]</p> <p>:img_attrs就是对应emoji替换函数的附加参数，可以给img加属性，比如style等等</p> <ul> <li>这是html_pipeline gem包内源码说明</li> </ul> <div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">HTML</span><span class="o">::</span><span class="no">Pipeline</span><span class="p">.</span><span class="nf">require_dependency</span><span class="p">(</span><span class="s2">"gemoji"</span><span class="p">,</span> <span class="s2">"EmojiFilter"</span><span class="p">)</span>

<span class="k">module</span> <span class="nn">HTML</span>
  <span class="k">class</span> <span class="nc">Pipeline</span>
    <span class="c1"># HTML filter that replaces :emoji: with images.</span>
    <span class="c1">#</span>
    <span class="c1"># Context:</span>
    <span class="c1">#   :asset_root (required) - base url to link to emoji sprite</span>
    <span class="c1">#   :asset_path (optional) - url path to link to emoji sprite. :file_name can be used as a placeholder for the sprite file name. If no asset_path is set "emoji/:file_name" is used.</span>
    <span class="c1">#   :ignored_ancestor_tags (optional) - Tags to stop the emojification. Node has matched ancestor HTML tags will not be emojified. Default to pre, code, and tt tags. Extra tags please pass in the form of array, e.g., %w(blockquote summary).</span>
    <span class="c1">#   :img_attrs (optional) - Attributes for generated img tag. E.g. Pass { "draggble" =&gt; true, "height" =&gt; nil } to set draggable attribute to "true" and clear height attribute of generated img tag.</span>
</code></pre></div></div> <p>还有种方案，需要自行结合gemoji.rb（jemoji.rb中引用）配合修改url对应解析规则，比较复杂，读者自行研究</p> <p>这里留两个推荐emoji源的cheat sheet，可以替换成自定义样式 <img class="emoji" title=":yum:" alt=":yum:" src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f60b.png" height="48" width="48"></p> <p><a href="https://www.iemoji.com/emoji-cheat-sheet/smileys-people" title="iemoji">iemoji</a></p> <p><a href="https://www.webpagefx.com/tools/emoji-cheat-sheet/" title="webpagefx">webpagefx</a></p> <hr> <p><code class="highlighter-rouge">网站历史</code>-<code class="highlighter-rouge">2018年10月28日</code></p> <div class="entry-meta"> <br> <hr> <span class="entry-tags"><a href="http://localhost:4000/tags/#%E5%8E%86%E5%8F%B2" title="Pages tagged 历史" class="tag"><span class="term">历史</span></a><a href="http://localhost:4000/tags/#%E6%9D%82%E8%B0%88" title="Pages tagged 杂谈" class="tag"><span class="term">杂谈</span></a><a href="http://localhost:4000/tags/#jemoji" title="Pages tagged jemoji" class="tag"><span class="term">jemoji</span></a><a href="http://localhost:4000/tags/#ruby" title="Pages tagged ruby" class="tag"><span class="term">ruby</span></a></span> <span class="social-share"> <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/website-history1/" title="Share on Facebook" class="tag"> <span class="term"><i class="fa fa-facebook-square"></i> Share</span> </a> <a href="https://twitter.com/intent/tweet?text=http://localhost:4000/website-history1/" title="Share on Twitter" class="tag"> <span class="term"><i class="fa fa-twitter-square"></i> Tweet</span> </a> <a href="https://plus.google.com/share?url=http://localhost:4000/website-history1/" title="Share on Google+" class="tag"> <span class="term"><i class="fa fa-google-plus-square"></i> +1</span> </a> </span> <div style="clear:both"></div> </div> </div> </div> <section id="disqus_thread" class="animated fadeInUp"> <div id="lv-container" data-id="city" data-uid="MTAyMC8zMTk5MC84NTU0"> <script type="text/javascript"> (function(d, s) { var j, e = d.getElementsByTagName(s)[0]; if (typeof LivereTower === 'function') { return; } j = d.createElement(s); j.src = 'https://cdn-city.livere.com/js/embed.dist.js'; j.async = true; e.parentNode.insertBefore(j, e); })(document, 'script'); </script> <noscript>为正常使用来必力评论功能请激活JavaScript</noscript> </div> </section> </header> <!-- JS --> <script src="http://localhost:4000/assets/js/jquery-1.12.0.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.dlmenu.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.goup.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.magnific-popup.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.fitvid.min.js"></script> <script src="http://localhost:4000/assets/js/scripts.js"></script> <script type="text/javascript"> var disqus_shortname = 'neteen-blog'; (function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })(); (function () { var s = document.createElement('script'); s.async = true; s.type = 'text/javascript'; s.src = '//' + disqus_shortname + '.disqus.com/count.js'; (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s); }()); </script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript> <!-- MathJax --> <script async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> </body> </html>
